<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>เข้าสู่ระบบ 💙 Realpal</title>
<link href="https://fonts.googleapis.com/css2?family=Mali:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root{
  --blue:#a5c9ff;
  --purple:#d6b8ff;
  --white:#ffffff;
  --bg:#f5f7ff;
  --text:#333;
  --shadow:0 4px 10px rgba(0,0,0,0.05);
  --radius:18px;
}
body{
  font-family:'Mali',sans-serif;
  margin:0;
  background:var(--bg);
  color:var(--text);
  display:flex;
  flex-direction:column;
  align-items:center;
  max-width:430px;
  margin:0 auto;
  padding-bottom:60px;
}
header{
  background:linear-gradient(90deg,var(--blue),var(--purple));
  color:var(--white);
  width:100%;
  text-align:center;
  padding:14px 0;
  font-size:1.4rem;
  font-weight:600;
  border-bottom-left-radius:var(--radius);
  border-bottom-right-radius:var(--radius);
  box-shadow:var(--shadow);
}
form{
  background:var(--white);
  padding:16px;
  margin:24px 0;
  width:90%;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}
form h3{margin-top:0;color:#5a5ce6;}
input,button{
  width:100%;
  padding:10px;
  margin:6px 0;
  border-radius:12px;
  font-family:'Mali';
  font-size:1rem;
}
input{border:1px solid #ddd;}
button{
  background:linear-gradient(135deg,var(--purple),var(--blue));
  color:white;
  border:none;
  cursor:pointer;
  transition:0.2s;
}
button:hover{transform:scale(1.03);}
footer{
  margin-top:auto;
  text-align:center;
  color:#666;
  font-size:0.9em;
}
a{
  color:#5b5ce6;
  text-decoration:none;
}
a:hover{text-decoration:underline;}
</style>
</head>
<body>

<header>เข้าสู่ระบบ 💙</header>

<form id="loginForm">
  <h3>ยินดีต้อนรับกลับมา 🦋</h3>
  <input type="email" id="email" placeholder="อีเมล" required>
  <input type="password" id="password" placeholder="รหัสผ่าน" required>
  <button type="submit">เข้าสู่ระบบ 💫</button>
</form>

<footer>
  ยังไม่มีบัญชี? <a href="signup.html">สมัครสมาชิก 💜</a>
</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-auth.js";

// Firebase Config (ของคุณ)
const firebaseConfig = {
  apiKey: "AIzaSyD16O71K0Erz47p2bqj4bcR2CaffMcJ7KU",
  authDomain: "realpal-eadb5.firebaseapp.com",
  projectId: "realpal-eadb5",
  storageBucket: "realpal-eadb5.firebasestorage.app",
  messagingSenderId: "755055085773",
  appId: "1:755055085773:web:b980a014130aca8da2c184",
  measurementId: "G-CEWMNPW3DL"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

document.getElementById('loginForm').addEventListener('submit', async (e)=>{
  e.preventDefault();

  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value;

  try {
    const userCredential = await signInWithEmailAndPassword(auth, email, password);
    const user = userCredential.user;
    alert("🎉 เข้าสู่ระบบสำเร็จ! ยินดีต้อนรับ 💙");
    window.location.href = "feed.html"; // ไปหน้าโพสต์หลัก
  } catch (err) {
    alert("❌ เข้าสู่ระบบไม่สำเร็จ: " + err.message);
  }
});
</script>

</body>
</html>
